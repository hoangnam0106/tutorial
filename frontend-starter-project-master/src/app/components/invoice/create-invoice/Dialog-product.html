<table class="w-full bg-transparent" mat-table matSort [dataSource]="dataSource">
    <ng-container matColumnDef="name">
        <th mat-header-cell mat-sort-header *matHeaderCellDef>
            Tên sản phẩm
        </th>
        <td mat-cell *matCellDef="let item">
            <span class="pr-6 whitespace-nowrap font-medium">

                <ng-container>
                    <span class="duplicate">
                        {{item.item}}
                    </span>
                </ng-container>

            </span>
        </td>
    </ng-container>
    <ng-container matColumnDef="price">
        <th mat-header-cell mat-sort-header *matHeaderCellDef>
            Đơn giá
        </th>
        <td mat-cell *matCellDef="let item">
            <span class="pr-6 whitespace-nowrap font-medium">
                <ng-container>
                    <span class="duplicate">
                        {{item.price}}
                    </span>
                </ng-container>

            </span>
        </td>
    </ng-container>
    <ng-container matColumnDef="vat">
        <th mat-header-cell mat-sort-header *matHeaderCellDef>
            VAT
        </th>
        <td mat-cell *matCellDef="let item">
                <span class="pr-6 whitespace-nowrap font-medium text-blue-500">
                    {{item.vat}}
                </span>
        </td>
    </ng-container>

    <ng-container matColumnDef="quantity">
        <th mat-header-cell mat-sort-header *matHeaderCellDef>
            Số lượng
        </th>
        <td mat-cell *matCellDef="let item">
            <input (input)="changeQuantity(item.id, $event)" value="{{item.quantity}}">
        </td>
    </ng-container>

    <ng-container matColumnDef="total">
        <th mat-header-cell mat-sort-header *matHeaderCellDef>
            Tổng tiền
        </th>
        <td mat-cell *matCellDef="let item">
            <span class="pr-6 whitespace-nowrap font-medium text-blue-500">
                    {{total.get(item.id) == null ? item.quantity * item.price: total.get(item.id)}}
            </span>
        </td>
    </ng-container>
    <!-- Footer -->
    <tr mat-header-row *matHeaderRowDef="cols"></tr>
    <tr class="order-row h-16" mat-row *matRowDef="let row; columns: cols;"></tr>
    <!-- <tr class="h-16 border-0" mat-footer-row *matFooterRowDef="['recentOrdersTableFooter']"></tr> -->
</table>

<div class="flex items-center justify-end border-t p-3 sm:p-6 bg-gray-50 dark:bg-gray-700">
    <button  mat-flat-button color="primary" (click)="save()">Thêm</button>
    <button  mat-flat-button color="primary" (click)="onNoClick()">Đóng</button>
</div>